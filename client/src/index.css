@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    margin: 0;
    padding: 0;
    background-color: #ffffff;
    color: #000000;
    overflow-x: hidden;
  }

  /* Safe area support for iPhone */
  .safe-area {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Prevent text selection during workout */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  /* Keep screen on during workout */
  .keep-awake {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
}

@layer components {
  /* Portrait mode styles */
  .portrait-layout {
    @apply flex flex-col min-h-screen;
  }

  .portrait-exercise-container {
    @apply flex flex-col items-center justify-center flex-1 px-4 py-6;
  }

  .portrait-button {
    @apply w-full py-4 px-6 rounded-xl text-lg font-semibold transition-all duration-200;
  }

  /* Landscape mode styles */
  .landscape-layout {
    @apply flex min-h-screen;
  }

  .landscape-content {
    @apply flex-1 flex flex-col justify-center px-6 py-4;
  }

  .landscape-controls {
    @apply w-80 flex flex-col justify-center gap-4 px-6 py-4;
  }

  .landscape-button {
    @apply w-full py-6 px-8 rounded-xl text-xl font-bold transition-all duration-200;
  }

  /* Exercise animation container */
  .exercise-animation {
    @apply rounded-xl overflow-hidden shadow-lg;
  }

  .exercise-animation.portrait {
    @apply w-full max-w-md aspect-square;
  }

  .exercise-animation.landscape {
    @apply w-full max-w-lg aspect-square;
  }

  /* Progress bar */
  .progress-bar {
    @apply fixed top-0 left-0 right-0 h-2 bg-gray-200 z-50;
  }

  .progress-fill {
    @apply h-full bg-primary-500 transition-all duration-300 ease-out;
  }

  /* Button styles */
  .btn-primary {
    @apply bg-primary-500 text-white hover:bg-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }

  .btn-secondary {
    @apply bg-gray-500 text-white hover:bg-gray-600 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2;
  }

  .btn-success {
    @apply bg-green-500 text-white hover:bg-green-600 focus:ring-2 focus:ring-green-500 focus:ring-offset-2;
  }

  .btn-danger {
    @apply bg-red-500 text-white hover:bg-red-600 focus:ring-2 focus:ring-red-500 focus:ring-offset-2;
  }

  /* Counter styles */
  .counter-large {
    @apply text-5xl md:text-6xl font-bold text-primary-500;
  }

  .counter-medium {
    @apply text-4xl md:text-5xl font-bold text-primary-500;
  }

  /* Button variants */
  .btn-primary {
    @apply bg-primary-500 text-white hover:bg-primary-600 active:bg-primary-700;
  }

  .btn-success {
    @apply bg-success-500 text-white hover:bg-success-600 active:bg-success-700;
  }

  .btn-secondary {
    @apply bg-gray-200 text-gray-800 hover:bg-gray-300 active:bg-gray-400;
  }

  .btn-accent {
    @apply bg-accent-500 text-white hover:bg-accent-600 active:bg-accent-700;
  }
}

@layer utilities {
  /* Orientation-specific utilities */
  .portrait-only {
    @apply portrait:block landscape:hidden;
  }

  .landscape-only {
    @apply portrait:hidden landscape:block;
  }

  /* Touch-friendly button sizes */
  .touch-target {
    @apply min-w-[80px] min-h-[80px];
  }

  /* High contrast text */
  .text-high-contrast {
    @apply text-black dark:text-white;
  }

  /* Prevent accidental touches */
  .touch-safe {
    @apply touch-manipulation;
  }
}
